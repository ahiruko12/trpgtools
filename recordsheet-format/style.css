/* ===================== */
/*  2列レイアウト対応   */
/* ===================== */

.container {
  display: flex;
  gap: 30px;       /* 左右の間隔 */
  padding: 10px;          /* 内側に余白追加 */
  margin-top: 20px;
  width: 100%;     /* 全幅を基準に */
}

/* 左右の列を常に 50% に固定 */
.left-column,
.right-column {
  flex: 0 0 50%;     /* 幅を固定で半分ずつ */
  max-width: 50%;    /* 最大も50% */
  box-sizing: border-box;
  overflow: hidden;  /* 中身がはみ出さないように */
}

/* 中身が広がりすぎないように */
.left-column input,
.left-column textarea,
.left-column select,
.right-column input,
.right-column textarea,
.right-column select {
  width: 100%;       /* コンテナ幅にフィット */
  max-width: 100%;
  box-sizing: border-box;
}


/* 出力エリア */
.output-area {
  border: 1px solid #ccc;
  padding: 10px;
  min-height: 500px;     /* 最低サイズを確保 */
  max-height: none;       /* ← 固定制限を外す */
  overflow-y: auto;      /* スクロール可能 */
  white-space: pre-wrap; /* 改行維持 */
  background: #f9f9f9;
  margin-right: 30px;
  margin-top: 10px;
  font-family: monospace;
}

/* ===================== */
/*   全体の基本デザイン  */
/* ===================== */
body {
  font-family: sans-serif;
  font-size: 20px;       /* デフォルト14px→16pxに大きく */
  margin: 40px;           /* ページ余白を広めに */
  margin-bottom: 40px;   /* ページ下に余白 */
  background: #f5f5f5;
}

/* ===================== */
/*      セクション       */
/* ===================== */
.section {
  border: 1px solid #aaa;
  border-radius: 6px;
  padding: 16px;          /* 内側余白増加 */
  margin-bottom: 16px;    /* 下余白増加 */
  background: #fff;
}

.section h3 {
  position: relative;
  cursor: pointer;
  margin: 0 0 6px 0;
  font-size: 16px;
  background: #eee;
  padding: 6px 10px;
  border-radius: 4px;
}

.section h3::before {
  content: "▼";
  display: inline-block;
  margin-right: 8px;
  transition: transform 0.2s;
}

.section h3.collapsed::before {
  transform: rotate(-90deg);
}

/* ===================== */
/*          row          */
/* ===================== */
.row {
  display: flex;
  align-items: flex-start;
  margin-bottom: 10px;
  gap: 0px;
}

.row label {
  width: 120px;
  font-size: 15px;        /* ラベル文字サイズ少し大きめ */
  display: flex;
  align-items: center;        /* 垂直中央揃え */
  justify-content: flex-end;  /* ここで右揃え */
  margin-right: 10px;
}

.row input,
.row select,
.row textarea {
  flex: 1;
  box-sizing: border-box;
  font-size: 15px;        /* 入力文字も大きめ */
  padding: 6px;           /* 入力欄の内側余白も広め */
  margin-bottom: 6px;
  margin-right: 8px;
}

.row input:last-child,
.row select:last-child,
.row textarea:last-child {
  margin-right: 0;
}

.row textarea {
  min-height: 60px;
  padding: 5px;
}

/* --- シナリオ情報専用 --- */
#DX3-form .section:first-of-type .row textarea {
  width: calc(100% - 120px);
}

/* ===================== */
/*         ボタン        */
/* ===================== */
button, .add-button {
  cursor: pointer;
  padding: 4px 8px;
  margin: 4px 0;
  border-radius: 4px;
  border: 1px solid #aaa;
  background: #f0f0f0;
  font-size: 14px;
}

.add-button {
  background-color: #fff;
  color: #5a7fa3;
  border: 1px solid #5a7fa3;
  padding: 5px 10px;
}

/* disabled状態 */
.add-button:disabled {
  background-color: #ddd;
  color: #888;
  border: 1px solid #aaa;
  cursor: not-allowed;
}

/* ボタン行 */
.button-row {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
  margin-top: 5px;
}

/* ===================== */
/* 成長欄・ロイス欄共通  */
/* ===================== */
.growth-block, .rois-block {
  border: 1px solid #ccc;
  padding: 14px 8px 8px 8px;
  margin-bottom: 8px;
  border-radius: 4px;
  background: #fdfdfd;
}

.growth-block .row,
.rois-block .row {
  margin-bottom: 4px;
}

.growth-block input[type="number"],
.growth-block input[type="text"],
.growth-block select,
.rois-block input[type="text"],
.rois-block select {
  height: 28px;
  padding: 4px 6px;
  font-size: 14px;
  box-sizing: border-box;
}

.growth-block .row.inputs,
.rois-block .row.inputs {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.growth-block .row.actions,
.rois-block .row.actions {
  display: flex;
  gap: 4px;
  margin-top: 2px;
  align-items: center;
}

/* --- ロイス欄調整 --- */
#rois-container .row.inputs {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  margin-bottom: 4px;
}

#rois-container .growth-block .row label {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 4px;
  margin: 0;
  padding: 0;
  width: auto;
}

#rois-container .growth-block .row input[type="checkbox"] {
  margin: 0;
  vertical-align: middle;
}

#rois-container .row.inputs input[id^="rois-desc-"] {
  flex: 2;
  min-width: 200px;
}

/* ===================== */
/*    残り経験値欄       */
/* ===================== */
.row.exp-row {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
}

.row.exp-row input[type="number"] {
  width: 100px !important;
  max-width: 100px;
  padding: 4px 6px;
  margin-right: 10px;
  font-size: 14px;
  box-sizing: border-box;
  border: 1px solid #333;
  border-radius: 4px;
  background: #fff;
}

/* ===================== */
/*   フォーマット切替    */
/* ===================== */
.format-switch {
  display: flex;
  justify-content: flex-start;
  gap: 10px;
  margin-bottom: 15px;
}

.button-36 {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 150px;
  padding: 0.6em 0.6em;
  border: 1px solid #3d61a9;
  border-radius: 5px;
  background-color: #fff;
  color: #3d61a9;
  font-size: 0.9em;
  cursor: pointer;
}

.button-36.active {
  background-color: #3d61a9;
  color: #fff;
  cursor: default;
  pointer-events: none;
}

/* ===================== */
/*    KIZ専用スタイル    */
/* ===================== */
#KIZ-form .growth-block {
  margin-bottom: 10px;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
  background-color: #fafafa;
}

#KIZ-form .growth-block input[type="text"] {
  width: calc(100% - 50px);
  margin-bottom: 4px;
  padding: 6px;
}

#KIZ-form .growth-block textarea {
  width: 100%;
  min-height: 50px;
  padding: 6px;
  resize: vertical;
  margin-bottom: 4px;
}

#KIZ-form .growth-block .actions {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

#KIZ-form .growth-block .actions button {
  padding: 4px 8px;
  font-size: 12px;
}

/* ヒビワレ見出し＋ブロック全体 */
#hibiware-header {
  display: flex;
  align-items: center;
  gap: 15px; /* 見出しとブロックの間 */
}

/* 親コンテナ */
#hibiware-options {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

/* 各チェックブロック */
.hibiware-checkbox-block {
  display: flex;         /* inline-flex → flex に変更 */
  align-items: center;
  gap: 4px;
  font-size: 0.9em;
  white-space: nowrap;
}

/* チェックボックス */
.hibiware-checkbox-block input[type="checkbox"] {
  /* width/height を固定せず、transform に変更 */
  transform: scale(1.2);
  transform-origin: center center; /* 中央基準 */
  margin: 0;
}



#KIZ-form textarea {
  overflow: hidden;
  min-height: 60px;
  font-size: 14px;
  padding: 6px;
  width: 100%;
  margin-bottom: 6px;
}


/* ===================== */
/*  ダークモード切替ボタン */
/* ===================== */
.toggle-button-1 {
  position: fixed;
  top: 1.2em;
  right: 1.2em;
  width: 4em;
  height: 2em;
  border-radius: 2em;
  background-color: #ddd;
  cursor: pointer;
  transition: background-color 0.3s;
  z-index: 1000;
  font-size: 30px;
}

.toggle-button-1:has(:checked) { background-color: #444; }

.toggle-button-1 .icon {
  position: absolute;
  top: 0.15em;
  left: 0.15em;
  width: 1.7em;
  height: 1.7em;
  border-radius: 50%;
  background-color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: left 0.3s;
}

.toggle-button-1 .icon::before { content: "☀️"; }
.toggle-button-1:has(:checked) .icon { left: 2.1em; }
.toggle-button-1:has(:checked) .icon::before { content: "🌙"; }
.toggle-button-1 input { display: none; }

/* ===================== */
/*   ダークモード上書き  */
/* ===================== */
body.dark-mode {
  background: #222;
  color: #eee;
}

body.dark-mode .section {
  border: 1px solid #555;
  background: #2b2b2b;
}

body.dark-mode .section h3 {
  background: #333;
  color: #ddd;
}

body.dark-mode input,
body.dark-mode select,
body.dark-mode textarea {
  background: #333;
  color: #eee;
  border: 1px solid #555;
}

body.dark-mode .row.exp-row input[type="number"] {
  border: 1px solid #aaa;
  background: #333;
  color: #eee;
}

body.dark-mode button,
body.dark-mode .add-button {
  background: #333;
  color: #ddd;
  border: 1px solid #555;
}

body.dark-mode .add-button:disabled {
  background-color: #444;
  color: #777;
  border: 1px solid #555;
}

body.dark-mode .growth-block,
body.dark-mode .rois-block {
  border: 1px solid #555;
  background: #2b2b2b;
}

body.dark-mode #output,
body.dark-mode .output-area {
  background: #2a2a2a;
  border: 1px solid #555;
  color: #eee;
}

body.dark-mode .button-36 {
  border: 1px solid #3f588f;
  background-color: #222;
  color: #3f588f;
}

body.dark-mode .button-36.active {
  background-color: #3f588f;
  color: #fff;
}

body.dark-mode #KIZ-form .growth-block {
  border: 1px solid #555;
  background-color: #2c2c2c;
}

body.dark-mode #KIZ-form .growth-block input[type="text"],
body.dark-mode #KIZ-form .growth-block textarea {
  background: #333;
  color: #eee;
  border: 1px solid #555;
}

/* ===================== */
/*  ダークモード: 入力不可欄  */
/* ===================== */
body.dark-mode input:disabled,
body.dark-mode textarea:disabled,
body.dark-mode select:disabled,
body.dark-mode input[readonly],
body.dark-mode textarea[readonly],
body.dark-mode select[readonly] {
  background-color: #4e4e4e;  /* 通常入力欄より暗め */
  color: #666;               /* グレー文字 */
  border: 1px solid #666;    /* 枠線は通常より少し暗め */
  cursor: not-allowed;       /* マウスカーソルも禁止マーク */
}

