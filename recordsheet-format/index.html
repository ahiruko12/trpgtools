<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>DX3/KIZ 履歴欄生成ツール</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h2>ゆとシ履歴欄生成ツール</h2>

  <!-- ダークモードスイッチ -->
  <label class="toggle-button-1">
    <input type="checkbox" id="darkModeToggle" />
    <span class="icon"></span>
  </label>

  <div class="container">
    <!-- 左列：フォーム -->
    <div class="left-column">
      <div class="format-switch">
        <button class="button-36 active" id="dx3-btn" onclick="switchFormat('DX3')">DX3</button>
        <button class="button-36" id="kiz-btn" onclick="switchFormat('KIZ')">KIZ</button>
      </div>

      <!-- DX3フォーム -->
      <div id="DX3-form">
        <!-- シナリオ情報 -->
        <div class="section">
          <h3 onclick="toggleSection(this)">シナリオ情報</h3>
          <div class="content scenario-info">
            <div class="row">
              <label for="date">日付：</label>
              <input type="date" id="date">
            </div>
            
            <div class="row">
              <label for="scenario">シナリオ名：</label>
              <input type="text" id="scenario">
            </div>
            
            <div class="row">
              <label for="pc">PC・HO名：</label>
              <input type="text" id="pc" value="PC1・HO">
            </div>
            
            <div class="row">
              <label for="handout" style="align-self:flex-start;">ハンドアウト：</label>
              <textarea id="handout" rows="4">ロイス：
カヴァー/ワークス：
解説文、キミに今回課せられた使命は解説することだ。</textarea>
            </div>
            
            <div class="row">
              <label for="memo" style="align-self:flex-start;">メモ：</label>
              <textarea id="memo" rows="3" placeholder="ふせったーリンクや、メモ、感想など。"></textarea>
            </div>
          </div>
        </div>

        <!-- 成長 -->
        <div class="section">
          <h3 onclick="toggleSection(this)">成長</h3>
          <div class="content">
            <h4>能力値</h4>
            <div id="growth-ability-container"></div>
            <button class="add-button" onclick="addAbility()">＋能力値追加</button>

            <h4>技能</h4>
            <div id="growth-skill-container"></div>
            <button class="add-button" onclick="addSkill()">＋技能追加</button>

            <h4>エフェクト</h4>
            <div id="growth-effect-container"></div>
            <button class="add-button" onclick="addEffect()">＋エフェクト追加</button>

            <h4>メモリー</h4>
            <div id="growth-memory-container"></div>
            <button class="add-button" onclick="addMemory()">＋メモリー追加</button>

            <h4>アイテム</h4>
            <div id="growth-item-container"></div>
            <button class="add-button" onclick="addItem()">＋アイテム追加</button>

            <h4>残り経験値</h4>
            <div class="row exp-row">
              <input type="number" id="exp" placeholder="数値を入力">点保持
            </div>
          </div>
        </div>

        <!-- ロイス -->
        <div class="section">
          <h3 onclick="toggleSection(this)">ロイス</h3>
          <div class="content">
            <div id="rois-container"></div>
            <button class="add-button" onclick="addRois()">＋ロイス追加</button>
          </div>
        </div>
      </div>

      <!-- KIZフォーム -->
      <div id="KIZ-form" style="display:none;">
        <!-- シナリオ情報 -->
        <div class="section">
          <h3 onclick="toggleSection(this)">シナリオ情報</h3>
          <div class="content scenario-info">
            <div class="row">
              <label for="kiz-date">日付：</label>
              <input type="date" id="kiz-date">
            </div>
            <div class="row">
              <label for="kiz-scenario">シナリオ名：</label>
              <input type="text" id="kiz-scenario" value="Session">
            </div>
            <div class="row">
              <label for="kiz-memo" style="align-self:flex-start;">メモ：</label>
              <textarea id="kiz-memo" rows="3" placeholder="ふせったーリンクやメモなど"></textarea>
            </div>
          </div>
        </div>

        <!-- 成長 -->
        <div class="section">
          <h3 onclick="toggleSection(this)">成長</h3>
          <div class="content">
            <h4>キズナ</h4>
            <div id="kiz-kizuna-container"></div>
            <button class="add-button" onclick="addKizuna()">＋キズナ追加</button>

            <h4>ヒビ</h4>
            <div id="kiz-hibi-container"></div>
            <button class="add-button" onclick="addHibi()">＋ヒビ追加</button>

            <h4 id="hibiware-header">
              ヒビワレ
              <span id="hibiware-karadawari"></span>
            </h4>
            <div id="kiz-hibiware-container"></div>
            <button class="add-button" id="addHibiwareBtn" onclick="addHibiware()">＋ヒビワレ追加</button>

            <h4>追加ヒトガラ</h4>
            <div id="kiz-hitogara-container"></div>
            <button class="add-button" onclick="addHitogara()">＋追加ヒトガラ追加</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 右列：生成・コピーエリア -->
    <div class="right-column">
      <div class="button-row">
        <button type="button" onclick="generate()">生成！</button>
        <button type="button" onclick="copyText()">コピー</button>
      </div>
      <h3>完成テキスト</h3>
      <div id="output" class="output-area"></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
